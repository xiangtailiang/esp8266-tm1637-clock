# ESP8266 网络时钟

基于ESP8266和TM1637显示模块的网络时钟项目，支持NTP时间同步、WiFi配网、亮度调节和日期显示等功能。

## 功能特点

- 自动NTP网络时间同步
- WiFi智能配网功能
- 支持日期显示切换
- 白天/夜间亮度自动调节
- Web界面远程配置
- 掉电配置保存
- 断网重连机制

## 效果展示

![实际效果展示](demo.jpg)

上图展示了设备的实际运行效果，可以看到4位数码管清晰显示当前时间，支持智能亮度调节，确保在不同光线环境下都能清晰辨识。

## 硬件需求

### 所需组件

- ESP8266开发板（NodeMCU、Wemos D1等）
- TM1637 4位数码管显示模块
- Micro USB数据线（供电和烧录用）

### 接线说明

| TM1637引脚 | ESP8266引脚 |
|------------|-------------|
| CLK        | D5          |
| DIO        | D6          |
| VCC        | 3.3V        |
| GND        | GND         |

## 使用说明

### 首次配置

1. 给设备上电，首次使用时会自动进入配网模式
2. 用手机或电脑连接名为"ESP8266-Config"的WiFi热点（密码：12345678）
3. 连接后自动弹出或手动访问配置页面
4. 在配置页面输入：
   - 你的WiFi名称和密码
   - 显示屏亮度（0-4级）
   - 日期显示选项
   - 显示切换间隔时间
5. 点击保存，设备将自动重启并连接到配置的WiFi网络

### Web配置界面

设备成功连接WiFi后，可以通过以下步骤修改配置：

1. 查看设备IP地址（可通过路由器查看或串口监视器输出）
2. 浏览器访问设备IP地址
3. 在Web界面可以修改：
   - 显示屏亮度设置
   - 日期显示开关
   - 显示切换间隔
   - 恢复出厂设置

## 开发相关

### 所需库

- TM1637Display
- ESP8266WiFi
- NTPClient
- TimeLib
- ESP8266WebServer

### 开发环境

1. Arduino IDE设置：
   - 安装ESP8266开发板支持
   - 选择对应的ESP8266开发板
   - 设置合适的上传速度
   - 选择正确的COM端口

2. 编译上传：
   - 确保所有依赖库已安装
   - 编译代码
   - 上传到开发板

### 主要功能说明

- 自动切换白天/夜间亮度（7:00-20:00为白天模式）
- 每小时自动同步网络时间
- 断网后自动重连
- 配置数据存储在EEPROM中
- 支持显示时间和日期循环切换

## 注意事项

1. 首次使用需要配置WiFi连接
2. 确保WiFi信号良好
3. 如需恢复出厂设置，可通过Web界面操作
4. 支持的亮度范围为0-4级
5. 日期显示间隔可设置为5-60秒